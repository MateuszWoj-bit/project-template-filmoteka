{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aAGA,MAAMC,EAAcC,SAASC,cAAc,UACrCC,EAAcF,SAASC,cAAc,QAC1CE,QAAQC,IAAIL,GACb,MAAMM,EAAM,kCAoFZN,EAAYO,iBAAiB,SAlF7B,WACEH,QAAQC,IAAI,oBACZ,MAAMG,EAAqB,CACzBC,MAAOX,EAAAY,WAAWD,MAClBE,GAAIb,EAAAY,WAAWC,GACfC,YAAaC,OAAOC,SAAShB,EAAAY,WAAWK,cACxCC,OAAQlB,EAAAY,WAAWM,OAAOC,KAAIC,IAAS,EAAAC,EAAAC,qBAAoBF,EAAMP,MAAKU,KAAK,MAC3EC,OAAQhB,EAAMR,EAAAY,WAAWa,YACzBC,KAAM1B,EAAAY,WAAWe,aAAaC,QAAQ,GACtCC,WAAY7B,EAAAY,WAAWiB,WAAWD,QAAQ,GAC1CE,UAAW9B,EAAAY,WAAWmB,eACtBC,MAAOhC,EAAAY,WAAWqB,UAIpB/B,EAAYgC,UAAY,mBACxBhC,EAAYiC,UAAUC,IAAI,iBAE1B,MAAMC,EAAUC,aAAaC,QAAQ,aAErC,IAAKF,EAEH,YADAC,aAAaE,QAAQ,YAAaC,KAAKC,UAAU,CAAChC,KAIpD,MAAMiC,EAAcF,KAAKG,MAAMP,GAE/B,GAAIA,EAAQQ,SAAS7C,EAAAY,WAAWC,IAO9B,OANAX,EAAYgC,UAAY,iBACxBhC,EAAYiC,UAAUW,OAAO,sBAC7BR,aAAaE,QACX,YACAC,KAAKC,UAAUC,EAAYI,QAAOC,GAASA,EAAMnC,KAAOb,EAAAY,WAAWC,OAIrEyB,aAAaE,QAAQ,YAAaC,KAAKC,UAAU,IAAIC,EAAajC,IAEtE,IA6CAL,EAAYI,iBAAiB,SA3C7B,WACAH,QAAQC,IAAIL,GACXI,QAAQC,IAAI,oBACX,MAAMG,EAAqB,CACzBC,MAAOX,EAAAY,WAAWD,MAClBE,GAAIb,EAAAY,WAAWC,GACfC,YAAaC,OAAOC,SAAShB,EAAAY,WAAWK,cACxCC,OAAQlB,EAAAY,WAAWM,OAAOC,KAAIC,IAAS,EAAAC,EAAAC,qBAAoBF,EAAMP,MAAKU,KAAK,MAC3EC,OAAQhB,EAAMR,EAAAY,WAAWa,YACzBC,KAAM1B,EAAAY,WAAWe,aAAaC,QAAQ,GACtCC,WAAY7B,EAAAY,WAAWiB,WAAWD,QAAQ,GAC1CE,UAAW9B,EAAAY,WAAWmB,eACtBC,MAAOhC,EAAAY,WAAWqB,UAGpB5B,EAAY6B,UAAY,iBACxB7B,EAAY8B,UAAUC,IAAI,iBAG1B,MAAMa,EAASX,aAAaC,QAAQ,aAEpC,IAAKU,EAEH,YADAX,aAAaE,QAAQ,YAAaC,KAAKC,UAAU,CAAChC,KAKpD,MAAMiC,EAAcF,KAAKG,MAAMK,GAE/B,GAAIA,EAAOJ,SAAS7C,EAAAY,WAAWC,IAO7B,OANAR,EAAY6B,UAAY,eACxB7B,EAAY8B,UAAUW,OAAO,sBAC7BR,aAAaE,QACX,YACAC,KAAKC,UAAUC,EAAYI,QAAOC,GAASA,EAAMnC,KAAOb,EAAAY,WAAWC,OAIrEyB,aAAaE,QAAQ,YAAaC,KAAKC,UAAU,IAAIC,EAAajC,IAEtE,IAMA,MAAMwC,EAAWZ,aAAaC,QAAQ,aAChCY,EAAWb,aAAaC,QAAQ,aAClBE,KAAKG,MAAMM,GACXT,KAAKG,MAAMO","sources":["src/js/localStorage.js"],"sourcesContent":["import { exportData } from './movie-details';\nimport { idToGenereTranslate } from './helpers';\n\nconst watchButton = document.querySelector('.watch');\nconst queueButton = document.querySelector('.que');\n console.log(watchButton);\nconst url = 'https://image.tmdb.org/t/p/w500';\n\nfunction addToWatched() {\n  console.log(\"adding to wached\")\n  const movieDetailsToSave = {\n    title: exportData.title,\n    id: exportData.id,\n    releaseDate: Number.parseInt(exportData.release_date),\n    genres: exportData.genres.map(genre => idToGenereTranslate(genre.id)).join(', '),\n    poster: url + exportData.poster_path,\n    vote: exportData.vote_average.toFixed(1),\n    popularity: exportData.popularity.toFixed(1),\n    org_title: exportData.original_title,\n    about: exportData.overview,\n  };\n  \n\n  watchButton.innerHTML = 'ADDED TO WATCHED';\n  watchButton.classList.add('btn-mod-color');\n\n  const watched = localStorage.getItem('WATCH_KEY');\n\n  if (!watched) {\n    localStorage.setItem('WATCH_KEY', JSON.stringify([movieDetailsToSave]));\n    return;\n  }\n\n  const savedMovies = JSON.parse(watched);\n\n  if (watched.includes(exportData.id)) {\n    watchButton.innerHTML = 'ADD TO WATCHED';\n    watchButton.classList.remove('btn-mod-color');\n    localStorage.setItem(\n      'WATCH_KEY',\n      JSON.stringify(savedMovies.filter(movie => movie.id !== exportData.id)),\n    );\n    return;\n  } else {\n    localStorage.setItem('WATCH_KEY', JSON.stringify([...savedMovies, movieDetailsToSave]));\n  }\n}\n\nfunction addToQueued() {\nconsole.log(watchButton);\n console.log('adding to wached');\n  const movieDetailsToSave = {\n    title: exportData.title,\n    id: exportData.id,\n    releaseDate: Number.parseInt(exportData.release_date),\n    genres: exportData.genres.map(genre => idToGenereTranslate(genre.id)).join(', '),\n    poster: url + exportData.poster_path,\n    vote: exportData.vote_average.toFixed(1),\n    popularity: exportData.popularity.toFixed(1),\n    org_title: exportData.original_title,\n    about: exportData.overview,\n  };\n\n  queueButton.innerHTML = 'ADDED TO QUEUE';\n  queueButton.classList.add('btn-mod-color');\n\n\n  const queued = localStorage.getItem('QUEUE_KEY');\n\n  if (!queued) {\n    localStorage.setItem('QUEUE_KEY', JSON.stringify([movieDetailsToSave]));\n    return;\n  }\n\n  \n  const savedMovies = JSON.parse(queued);\n\n  if (queued.includes(exportData.id)) {\n    queueButton.innerHTML = 'ADD TO QUEUE';\n    queueButton.classList.remove('btn-mod-color');\n    localStorage.setItem(\n      'QUEUE_KEY',\n      JSON.stringify(savedMovies.filter(movie => movie.id !== exportData.id)),\n    );\n    return;\n  } else {\n    localStorage.setItem('QUEUE_KEY', JSON.stringify([...savedMovies, movieDetailsToSave]));\n  }\n}\n\nwatchButton.addEventListener('click', addToWatched);\nqueueButton.addEventListener('click', addToQueued);\n\n//odczytywanie danych z localStorage\nconst getDataW = localStorage.getItem('WATCH_KEY');\nconst getDataQ = localStorage.getItem('QUEUE_KEY');\nconst parsedDataW = JSON.parse(getDataW);\nconst parsedDataQ = JSON.parse(getDataQ);\n\n// const testW = parsedDataW.map(movie => movie.title)\n// console.log(testW);\n// const testQ = parsedDataQ.map(movie => movie.title);\n// console.log(testQ);\n"],"names":["$hXrDp","parcelRequire","$f3e1fb6edc6593d2$var$watchButton","document","querySelector","$f3e1fb6edc6593d2$var$queueButton","console","log","$f3e1fb6edc6593d2$var$url","addEventListener","movieDetailsToSave","title","exportData","id","releaseDate","Number","parseInt","release_date","genres","map","genre","$ge6e3","idToGenereTranslate","join","poster","poster_path","vote","vote_average","toFixed","popularity","org_title","original_title","about","overview","innerHTML","classList","add","watched","localStorage","getItem","setItem","JSON","stringify","savedMovies","parse","includes","remove","filter","movie","queued","$f3e1fb6edc6593d2$var$getDataW","$f3e1fb6edc6593d2$var$getDataQ"],"version":3,"file":"index.42e29106.js.map"}