{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,uCAGMC,EAAUC,SAASC,cAAc,YACjCC,EAAWF,SAASC,cAAc,aAClCE,EAAaH,SAASC,cAAc,eACpCG,EAAU,mCAEhBD,EAAWE,QAAUC,EAAAC,YAGrB,I,EAAMC,G,EAAeC,EAAAZ,EAAA,CAAAY,EAAAC,GAAAC,MAAA,SAAAC,I,IAAOC,EACpBC,EAAKC,EAAAC,U,yEADeH,EAAEE,EAAAE,OAAA,YAAAF,EAAA,GAAAA,EAAA,GAAG,K,SACXG,EAAAC,QAAMC,IAAI,0CAEmBC,OAAdR,EAAG,aAAmBQ,OAARjB,EAAQ,oB,cAFnDU,EAAKQ,EAAAC,KAGXC,QAAQC,IAAIX,G,kBACLA,G,uFAuDTf,EAAQM,QAnBR,SAA2BqB,GACzBF,QAAQC,IAAIC,EAAMC,OAAOC,aAAa,YACtCJ,QAAQC,IAAIC,EAAMC,OAAOC,aAAa,eACR,QAA1BF,EAAMC,OAAOE,WAGjB3B,EAAS4B,UAAY,IACrB,EAAAxB,EAAAC,eACAC,EAAakB,EAAMC,OAAOC,aAAa,YACpCG,MAAK,SAAUC,IAzCpB,SAAuBA,GACrB,IAAMlB,EAAQkB,EAASC,KACvBT,QAAQC,IAAIX,GAEZ,IAAMoB,EAAa,8DAEQb,OADzBP,EAAMqB,YACP,4BAQ8Bd,OARJP,EAAMsB,MAAMC,cAAc,qMAQoBhB,OAA1CP,EAAMwB,aAAaC,QAAQ,GAAG,cACrDlB,OADiEP,EAAM0B,WAAW,kBAElFnB,OADAP,EAAM2B,WAAWF,QAAQ,GAAG,kBAMXlB,OALjBP,EAAM4B,eAAeL,cAAc,gIAWRhB,OANVP,EAAM6B,OAC5BC,KAAI,SAAAC,G,OAAW,EAAAvC,EAAAwC,qBAAoBD,EAAQhC,G,IAC3CkC,KAAM,MAAK,iHAIoC1B,OAAfP,EAAMkC,SAAS,YAElD9C,EAAS+C,mBAAmB,aAAcf,E,CActCgB,CAAclB,E,IAEfmB,OAAM,SAAUC,GAEf5B,QAAQC,IAAI2B,E","sources":["src/movie-details.js"],"sourcesContent":["import axios from 'axios';\nimport { idToGenereTranslate, modalToggle } from './helpers';\n\nconst gallery = document.querySelector('.gallery');\nconst overview = document.querySelector('.overview');\nconst closeModal = document.querySelector('.modalClose');\nconst API_KEY = '4e9fa3fc2487236fdff94602c5bb9552';\n\ncloseModal.onclick = modalToggle;\n\n// Zapytanie do API TMDB zwraca obiekt odpowiedzi\nconst fetchDetails = async (id = 1771) => {\n  const table = await axios.get(`\n\nhttps://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}&language=en-US`);\n  console.log(table);\n  return table;\n};\n\n// Renderowanie zawarto≈õci modala\nfunction renderDetails(response) {\n  const table = response.data;\n  console.log(table);\n\n  const markupList = `<image class=\"mod-img\" src=\"https://image.tmdb.org/t/p/w500${\n    table.poster_path\n  }\"><h2 class=\"mod-title\">${table.title.toUpperCase()}</h2>\n  <div class=\"row\">\n<div class = \"columnA\">\n  <p>Vote / Votes</p>\n  <p>Popularity</p>\n  <p>Original Title</p>\n  </div>\n     <div class = \"columnB\">\n     <p><span class=\"vote-mod\">${table.vote_average.toFixed(1)}</span> / ${table.vote_count}</p>\n     <p>${table.popularity.toFixed(1)}</p>\n     <p>${table.original_title.toUpperCase()}</p>\n      \n     </div></div>\n     <div class=\"row\">\n<div class=\"columnA\"><p >Genre</p></div>\n<div class=\"columnB\"><p >${table.genres\n    .map(element => idToGenereTranslate(element.id))\n    .join(`, `)}  \n     </p>    </div></div>\n     \n  <h3 class=\"mod-about\">ABOUT</h3>\n      <p class=\"mod-about-content\">${table.overview}</p>\n  `;\n  overview.insertAdjacentHTML('afterbegin', markupList);\n}\n\nfunction handleDetailClick(event) {  \n  console.log(event.target.getAttribute('movieID'));\n  console.log(event.target.getAttribute('movietitle'));\n  if (event.target.nodeName !== 'IMG') {\n    return;\n  }\n  overview.innerHTML = '';\n  modalToggle();\n  fetchDetails(event.target.getAttribute('movieID'))\n    .then(function (response) {\n      // handle success\n      renderDetails(response);\n    })\n    .catch(function (error) {\n      // handle error\n      console.log(error);\n    });\n}\n\ngallery.onclick = handleDetailClick;\n"],"names":["$bpxeT","parcelRequire","$22344407fec9bf28$var$gallery","document","querySelector","$22344407fec9bf28$var$overview","$22344407fec9bf28$var$closeModal","$22344407fec9bf28$var$API_KEY","onclick","$doFtP","modalToggle","$22344407fec9bf28$var$fetchDetails","$parcel$interopDefault","$2TvXO","mark","_callee","id","table","_args","arguments","length","$dIxxU","default","get","concat","_ctx","sent","console","log","event","target","getAttribute","nodeName","innerHTML","then","response","data","markupList","poster_path","title","toUpperCase","vote_average","toFixed","vote_count","popularity","original_title","genres","map","element","idToGenereTranslate","join","overview","insertAdjacentHTML","$22344407fec9bf28$var$renderDetails","catch","error"],"version":3,"file":"index.28020f9a.js.map"}