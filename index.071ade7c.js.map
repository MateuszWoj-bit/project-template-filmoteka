{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aAGA,MAAMC,EAAUC,SAASC,cAAc,YACjCC,EAAWF,SAASC,cAAc,aAClCE,EAAaH,SAASC,cAAc,eAG1CE,EAAWC,QAAUC,EAAAC,YA+DrBP,EAAQK,QAnBR,SAA2BG,GACzBC,QAAQC,IAAIF,EAAMG,OAAOC,aAAa,YACtCH,QAAQC,IAAIF,EAAMG,OAAOC,aAAa,eACR,QAA1BJ,EAAMG,OAAOE,WAGjBV,EAASW,UAAY,IACrB,EAAAR,EAAAC,eAhDmBQ,OAAOC,EAAK,QAC/B,MAAMC,QAAcnB,EAAAoB,QAAMC,IAAI,0CAEKH,6DAEnC,OADAP,QAAQC,IAAIO,GACLA,CAAK,EA4CZG,CAAaZ,EAAMG,OAAOC,aAAa,YACpCS,MAAK,SAAUC,IAzCpB,SAAuBA,GACrB,MAAML,EAAQK,EAASC,KACvBd,QAAQC,IAAIO,GAEZ,MAAMO,EAAa,8DACjBP,EAAMQ,sCACmBR,EAAMS,MAAMC,iNAQRV,EAAMW,aAAaC,QAAQ,eAAeZ,EAAMa,2BACvEb,EAAMc,WAAWF,QAAQ,mBACzBZ,EAAMe,eAAeL,4IAKJV,EAAMgB,OAC5BC,KAAIC,IAAW,EAAA7B,EAAA8B,qBAAoBD,EAAQnB,MAC3CqB,KAAK,qHAI2BpB,EAAMqB,mBAEzCnC,EAASoC,mBAAmB,aAAcf,E,CActCgB,CAAclB,E,IAEfmB,OAAM,SAAUC,GAEfjC,QAAQC,IAAIgC,E","sources":["src/movie-details.js"],"sourcesContent":["import axios from 'axios';\nimport { idToGenereTranslate, modalToggle } from './helpers';\n\nconst gallery = document.querySelector('.gallery');\nconst overview = document.querySelector('.overview');\nconst closeModal = document.querySelector('.modalClose');\nconst API_KEY = '4e9fa3fc2487236fdff94602c5bb9552';\n\ncloseModal.onclick = modalToggle;\n\n// Zapytanie do API TMDB zwraca obiekt odpowiedzi\nconst fetchDetails = async (id = 1771) => {\n  const table = await axios.get(`\n\nhttps://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}&language=en-US`);\n  console.log(table);\n  return table;\n};\n\n// Renderowanie zawarto≈õci modala\nfunction renderDetails(response) {\n  const table = response.data;\n  console.log(table);\n\n  const markupList = `<image class=\"mod-img\" src=\"https://image.tmdb.org/t/p/w500${\n    table.poster_path\n  }\"><h2 class=\"mod-title\">${table.title.toUpperCase()}</h2>\n  <div class=\"row\">\n<div class = \"columnA\">\n  <p>Vote / Votes</p>\n  <p>Popularity</p>\n  <p>Original Title</p>\n  </div>\n     <div class = \"columnB\">\n     <p><span class=\"vote-mod\">${table.vote_average.toFixed(1)}</span> / ${table.vote_count}</p>\n     <p>${table.popularity.toFixed(1)}</p>\n     <p>${table.original_title.toUpperCase()}</p>\n      \n     </div></div>\n     <div class=\"row\">\n<div class=\"columnA\"><p >Genre</p></div>\n<div class=\"columnB\"><p >${table.genres\n    .map(element => idToGenereTranslate(element.id))\n    .join(`, `)}  \n     </p>    </div></div>\n     \n  <h3 class=\"mod-about\">ABOUT</h3>\n      <p class=\"mod-about-content\">${table.overview}</p>\n  `;\n  overview.insertAdjacentHTML('afterbegin', markupList);\n}\n\nfunction handleDetailClick(event) {  \n  console.log(event.target.getAttribute('movieID'));\n  console.log(event.target.getAttribute('movietitle'));\n  if (event.target.nodeName !== 'IMG') {\n    return;\n  }\n  overview.innerHTML = '';\n  modalToggle();\n  fetchDetails(event.target.getAttribute('movieID'))\n    .then(function (response) {\n      // handle success\n      renderDetails(response);\n    })\n    .catch(function (error) {\n      // handle error\n      console.log(error);\n    });\n}\n\ngallery.onclick = handleDetailClick;\n"],"names":["$2shzp","parcelRequire","$81bd200390d452cf$var$gallery","document","querySelector","$81bd200390d452cf$var$overview","$81bd200390d452cf$var$closeModal","onclick","$gJuA9","modalToggle","event","console","log","target","getAttribute","nodeName","innerHTML","async","id","table","default","get","$81bd200390d452cf$var$fetchDetails","then","response","data","markupList","poster_path","title","toUpperCase","vote_average","toFixed","vote_count","popularity","original_title","genres","map","element","idToGenereTranslate","join","overview","insertAdjacentHTML","$81bd200390d452cf$var$renderDetails","catch","error"],"version":3,"file":"index.071ade7c.js.map"}